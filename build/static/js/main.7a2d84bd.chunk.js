(this["webpackJsonpslack-clone"]=this["webpackJsonpslack-clone"]||[]).push([[0],{77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},84:function(e,t,c){},85:function(e,t,c){},90:function(e,t,c){},91:function(e,t,c){},92:function(e,t,c){},93:function(e,t,c){},94:function(e,t,c){"use strict";c.r(t);var n=c(3),s=c(2),a=c.n(s),i=c(29),r=c.n(i),o=(c(77),c(18)),l=(c(78),c(79),c(110)),j=c(52),d=c.n(j),u=c(53),h=c.n(u),b=c(54),O=c.n(b),m=Object(s.createContext)(),x=function(e){var t=e.reducer,c=e.initialState,a=e.children;return Object(n.jsx)(m.Provider,{value:Object(s.useReducer)(t,c),children:a})},p=function(){return Object(s.useContext)(m)};var v=function(){var e=p(),t=Object(o.a)(e,1)[0].user;return Object(n.jsxs)("div",{className:"header",children:[Object(n.jsxs)("div",{className:"header__left",children:[Object(n.jsx)(l.a,{className:"header__avatar",alt:null===t||void 0===t?void 0:t.displayName,src:null===t||void 0===t?void 0:t.photoURL}),Object(n.jsx)(d.a,{})]}),Object(n.jsxs)("div",{className:"header__search",children:[Object(n.jsx)(h.a,{}),Object(n.jsx)("input",{placeholder:"Enter the key"})]}),Object(n.jsx)("div",{className:"header__right",children:Object(n.jsx)(O.a,{})})]})},f=(c(84),c(55)),g=c.n(f),_=c(56),N=c.n(_),I=c(57),S=c.n(I),k=(c(85),c(10)),C=c(32),y=C.a.initializeApp({apiKey:"AIzaSyCuNDTJ-wbmg-ZHkiWqRJK3jqltjB4jsEg",authDomain:"slack-clone-c8380.firebaseapp.com",projectId:"slack-clone-c8380",storageBucket:"slack-clone-c8380.appspot.com",messagingSenderId:"32482822885",appId:"1:32482822885:web:4f2400480bb46295f9620c",measurementId:"G-76NYQKDGDE"}).firestore(),w=C.a.auth(),D=new C.a.auth.GoogleAuthProvider,E=y;var A=function(e){var t=e.Icon,c=e.title,s=e.id,a=e.addChannelOption,i=Object(k.f)();return Object(n.jsxs)("div",{className:"sidebarOption",onClick:a?function(){var e=prompt("Please Enter the channel name");e&&E.collection("rooms").add({name:e})}:function(){s?i.push("/room/".concat(s)):i.push(c)},children:[t&&Object(n.jsx)(t,{className:"sidebarOption__icon"}),t?Object(n.jsx)("h3",{children:c}):Object(n.jsxs)("h3",{className:"sidebarOption__channel",children:[Object(n.jsx)("span",{className:"sidebarOption__hash",children:"#"}),c]})]})},F=c(58),P=c.n(F),T=c(59),B=c.n(T),L=c(60),R=c.n(L),W=c(63),z=c.n(W),G=c(61),J=c.n(G),M=c(64),U=c.n(M),K=c(65),q=c.n(K),H=c(62),Q=c.n(H),V=c(66),Y=c.n(V);var Z=function(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],i=p(),r=Object(o.a)(i,1)[0].user;return Object(s.useEffect)((function(){E.collection("rooms").onSnapshot((function(e){return a(e.docs.map((function(e){return{id:e.id,name:e.data().name}})))}))}),[]),Object(n.jsxs)("div",{className:"sidebar",children:[Object(n.jsxs)("div",{className:"sidebar__header",children:[Object(n.jsxs)("div",{className:"sidebar__info",children:[Object(n.jsx)("h2",{children:"WorkSpace"}),Object(n.jsxs)("h3",{children:[Object(n.jsx)(g.a,{}),null===r||void 0===r?void 0:r.displayName]})]}),Object(n.jsx)(N.a,{})]}),Object(n.jsx)(A,{Icon:S.a,title:"Threads"}),Object(n.jsx)(A,{Icon:P.a,title:"Mentions & reactions"}),Object(n.jsx)(A,{Icon:B.a,title:"Saved items"}),Object(n.jsx)(A,{Icon:R.a,title:"Channel browser"}),Object(n.jsx)(A,{Icon:J.a,title:"People & user groups"}),Object(n.jsx)(A,{Icon:Q.a,title:"Apps"}),Object(n.jsx)(A,{Icon:z.a,title:"File Browser"}),Object(n.jsx)(A,{Icon:U.a,title:"Show less"}),Object(n.jsx)("hr",{}),Object(n.jsx)(A,{Icon:q.a,title:"Channels"}),Object(n.jsx)("hr",{}),Object(n.jsx)(A,{Icon:Y.a,addChannelOption:!0,title:"Add Channel"}),c.map((function(e){return Object(n.jsx)(A,{title:e.name,id:e.id})}))]})},X=c(39),$=(c(90),c(67)),ee=c.n($),te=c(68),ce=c.n(te);c(91);var ne=function(e){var t=e.message,c=e.timestamp,s=e.userImage,a=e.user;return Object(n.jsxs)("div",{className:"message",children:[Object(n.jsx)("img",{src:s,alt:""}),Object(n.jsxs)("div",{className:"message__info",children:[Object(n.jsxs)("h4",{children:[a,Object(n.jsxs)("span",{className:"message__timestamp",children:[" ",new Date(null===c||void 0===c?void 0:c.toDate()).toUTCString()]})]}),Object(n.jsx)("p",{children:t})]})]})};c(92);var se=function(e){var t=e.channelName,c=e.channelId,a=Object(s.useState)(""),i=Object(o.a)(a,2),r=i[0],l=i[1],j=p(),d=Object(o.a)(j,1)[0].user;return Object(n.jsx)("div",{className:"chatInput",children:Object(n.jsxs)("form",{children:[Object(n.jsx)("input",{value:r,onChange:function(e){return l(e.target.value)},placeholder:"Message #".concat(null===t||void 0===t?void 0:t.toLowerCase())}),Object(n.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),c&&E.collection("rooms").doc(c).collection("messages").add({message:r,timestamp:C.a.firestore.FieldValue.serverTimestamp(),user:d.displayName,userImage:d.photoURL}),l("")},children:"SEND"})]})})};var ae=function(){var e=Object(k.g)().roomId,t=Object(s.useState)(null),c=Object(o.a)(t,2),a=c[0],i=c[1],r=Object(s.useState)([]),l=Object(o.a)(r,2),j=l[0],d=l[1];return Object(s.useEffect)((function(){e&&E.collection("rooms").doc(e).onSnapshot((function(e){return i(e.data())})),E.collection("rooms").doc(e).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return d(e.docs.map((function(e){return e.data()})))}))}),[e]),console.log(j),Object(n.jsxs)("div",{className:"chat",children:[Object(n.jsxs)("div",{className:"chat__header",children:[Object(n.jsx)("div",{className:"chat__headerLeft",children:Object(n.jsxs)("h4",{className:"chat__channelName",children:[Object(n.jsxs)("strong",{children:["# ",null===a||void 0===a?void 0:a.name]}),Object(n.jsx)(ee.a,{})]})}),Object(n.jsx)("div",{className:"chat__headerRight",children:Object(n.jsxs)("p",{children:[Object(n.jsx)(ce.a,{}),"Details"]})})]}),Object(n.jsx)("div",{className:"chat__messages",children:j.map((function(e){var t=e.message,c=e.timestamp,s=e.user,a=e.userImage;return Object(n.jsx)(ne,{message:t,timestamp:c,user:s,userImage:a})}))}),Object(n.jsx)(se,{channelName:null===a||void 0===a?void 0:a.name,channelId:e})]})},ie=(c(93),c(109)),re=c(46),oe="SET_USER",le=function(e,t){switch(console.log(t),t.type){case oe:return Object(re.a)(Object(re.a)({},e),{},{user:t.user});default:return e}};var je=function(){var e=p(),t=Object(o.a)(e,2),c=(t[0],t[1]);return Object(n.jsx)("div",{className:"login",children:Object(n.jsxs)("div",{className:"login__container",children:[Object(n.jsx)("img",{src:"https://cdn.brandfolder.io/5H442O3W/as/pl546j-7le8zk-4nzzs1/Slack_Mark_Web.png",alt:""}),Object(n.jsx)("h1",{children:" Sign in to Slack (by Ashutosh)"}),Object(n.jsx)("p",{children:"slack.ashutoshmishra.com.np"}),Object(n.jsx)(ie.a,{onClick:function(){w.signInWithPopup(D).then((function(e){console.log(e),c({type:oe,user:e.user})})).catch((function(e){alert(e.message)}))},children:"Sign In with Google"})]})})};var de=function(){var e=p(),t=Object(o.a)(e,2),c=t[0].user;return t[1],Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(X.a,{children:c?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(v,{}),Object(n.jsxs)("div",{className:"app__body",children:[Object(n.jsx)(Z,{}),Object(n.jsxs)(k.c,{children:[Object(n.jsx)(k.a,{path:"/room/:roomId",children:Object(n.jsx)(ae,{})}),Object(n.jsx)(k.a,{path:"/",children:Object(n.jsx)("h1",{children:"Welcome"})})]})]})]}):Object(n.jsx)(je,{})})})},ue=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,111)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),a(e),i(e)}))};r.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(x,{initialState:{user:null},reducer:le,children:Object(n.jsx)(de,{})})}),document.getElementById("root")),ue()}},[[94,1,2]]]);
//# sourceMappingURL=main.7a2d84bd.chunk.js.map